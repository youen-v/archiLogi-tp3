@startuml
title MavenSensorHub — Diagramme de packages (cible)
skinparam packageStyle rectangle
skinparam defaultFontName Arial
skinparam shadowing false

package "main-application" as MAIN {
  package "com.jad.app" as app
}

package "sensor-generation" as SENSOR {
  package "com.jad.sensor" as sensor
}

package "data-management" as DATA {
  package "com.jad.data" as data
}

package "report-generation" as REPORT {
  package "com.jad.report" as report
  package "com.jad.report.spi" as report_spi
}

package "user-interface" as UI {
  package "com.jad.ui" as ui
}

package "utils" as UTILS {
  package "com.jad.utils" as utils
}

' Dépendances minimales (cible propre)
MAIN --> SENSOR
MAIN --> DATA
MAIN --> REPORT
MAIN --> UI
MAIN --> UTILS

SENSOR --> UTILS
DATA --> UTILS
REPORT --> UTILS
UI --> REPORT

' Option B (SPI) : REPORT ne dépend plus directement de DATA
' REPORT déclare une SPI que DATA implémente
DATA ..> report_spi : implements
REPORT ..> report_spi : uses

@enduml
